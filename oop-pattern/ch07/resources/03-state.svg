<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="324px" preserveAspectRatio="none" style="width:697px;height:324px;" version="1.1" viewBox="0 0 697 324" width="697px" zoomAndPan="magnify"><defs><filter height="300%" id="f13mq5lst156e2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[898ddfb0345ec8532c0d8d277305d0fa]
class VendingMachine--><rect codeLine="3" fill="#FEFECE" filter="url(#f13mq5lst156e2)" height="194.7891" id="VendingMachine" style="stroke:#A80036;stroke-width:1.5;" width="268" x="7" y="7"/><ellipse cx="85.25" cy="25.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M88.2188,31.6094 Q87.6406,31.9063 87,32.0469 Q86.3594,32.2031 85.6563,32.2031 Q83.1563,32.2031 81.8281,30.5625 Q80.5156,28.9063 80.5156,25.7813 Q80.5156,22.6563 81.8281,21 Q83.1563,19.3438 85.6563,19.3438 Q86.3594,19.3438 87,19.5 Q87.6563,19.6563 88.2188,19.9531 L88.2188,22.6719 Q87.5938,22.0938 87,21.8281 Q86.4063,21.5469 85.7813,21.5469 Q84.4375,21.5469 83.75,22.625 Q83.0625,23.6875 83.0625,25.7813 Q83.0625,27.875 83.75,28.9531 Q84.4375,30.0156 85.7813,30.0156 Q86.4063,30.0156 87,29.75 Q87.5938,29.4688 88.2188,28.8906 L88.2188,31.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="126.75" y="23.1387">«context»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="105.75" y="37.1074">VendingMachine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="274" y1="44.9375" y2="44.9375"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="52.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="27" y="59.1479">state: State</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="65.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="27" y="71.9526">balance: int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="78.5469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="27" y="84.7573">currentStock: int</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="274" y1="91.3516" y2="91.3516"/><ellipse cx="18" cy="102.3516" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="27" y="105.562">insertCoin(coin: int): void</text><ellipse cx="18" cy="115.1563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="27" y="118.3667">select(Coffee): Coffee</text><ellipse cx="18" cy="127.9609" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="27" y="131.1714">changeState(State): void</text><ellipse cx="18" cy="140.7656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="242" x="27" y="143.9761">isEnoughCoinProvidedFor(Coffee): boolean</text><ellipse cx="18" cy="153.5703" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="27" y="156.7808">hasNoCoin(): boolean</text><ellipse cx="18" cy="166.375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="27" y="169.5854">acceptCoin(newCoin: int): void</text><ellipse cx="18" cy="179.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="27" y="182.3901">consumeCoin(amount: int): void</text><ellipse cx="18" cy="191.9844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="122" x="27" y="195.1948">serve(Coffee): Coffee</text><!--MD5=[60d6b92408f98aed8df94d5c6e04aa63]
class State--><rect codeLine="17" fill="#FEFECE" filter="url(#f13mq5lst156e2)" height="79.5469" id="State" style="stroke:#A80036;stroke-width:1.5;" width="316" x="310" y="64.5"/><ellipse cx="442.25" cy="83.4688" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M438.1719,79.2344 L438.1719,77.0781 L445.5625,77.0781 L445.5625,79.2344 L443.0938,79.2344 L443.0938,87.3125 L445.5625,87.3125 L445.5625,89.4688 L438.1719,89.4688 L438.1719,87.3125 L440.6406,87.3125 L440.6406,79.2344 L438.1719,79.2344 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="460.75" y="80.6387">«state»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="34" x="467.25" y="94.6074">State</text><line style="stroke:#A80036;stroke-width:1.5;" x1="311" x2="625" y1="102.4375" y2="102.4375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="311" x2="625" y1="110.4375" y2="110.4375"/><ellipse cx="321" cy="121.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="281" x="330" y="124.6479">increaseCoin(coin: int, ctx: VendingMachine): void</text><ellipse cx="321" cy="134.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="290" x="330" y="137.4526">select(coffee: Coffee, ctx: VendingMachine): Coffee</text><!--MD5=[5b0146fd2ce7b4d4a1dc769abb420476]
class NoCoinState--><rect codeLine="22" fill="#FEFECE" filter="url(#f13mq5lst156e2)" height="48" id="NoCoinState" style="stroke:#A80036;stroke-width:1.5;" width="110" x="257" y="262"/><ellipse cx="272" cy="278" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M274.9688,283.6406 Q274.3906,283.9375 273.75,284.0781 Q273.1094,284.2344 272.4063,284.2344 Q269.9063,284.2344 268.5781,282.5938 Q267.2656,280.9375 267.2656,277.8125 Q267.2656,274.6875 268.5781,273.0313 Q269.9063,271.375 272.4063,271.375 Q273.1094,271.375 273.75,271.5313 Q274.4063,271.6875 274.9688,271.9844 L274.9688,274.7031 Q274.3438,274.125 273.75,273.8594 Q273.1563,273.5781 272.5313,273.5781 Q271.1875,273.5781 270.5,274.6563 Q269.8125,275.7188 269.8125,277.8125 Q269.8125,279.9063 270.5,280.9844 Q271.1875,282.0469 272.5313,282.0469 Q273.1563,282.0469 273.75,281.7813 Q274.3438,281.5 274.9688,280.9219 L274.9688,283.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="286" y="282.1543">NoCoinState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="366" y1="294" y2="294"/><line style="stroke:#A80036;stroke-width:1.5;" x1="258" x2="366" y1="302" y2="302"/><!--MD5=[cd8efedc2982b58064dc93cf8db2382f]
class SelectableState--><rect codeLine="24" fill="#FEFECE" filter="url(#f13mq5lst156e2)" height="48" id="SelectableState" style="stroke:#A80036;stroke-width:1.5;" width="132" x="402" y="262"/><ellipse cx="417" cy="278" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M419.9688,283.6406 Q419.3906,283.9375 418.75,284.0781 Q418.1094,284.2344 417.4063,284.2344 Q414.9063,284.2344 413.5781,282.5938 Q412.2656,280.9375 412.2656,277.8125 Q412.2656,274.6875 413.5781,273.0313 Q414.9063,271.375 417.4063,271.375 Q418.1094,271.375 418.75,271.5313 Q419.4063,271.6875 419.9688,271.9844 L419.9688,274.7031 Q419.3438,274.125 418.75,273.8594 Q418.1563,273.5781 417.5313,273.5781 Q416.1875,273.5781 415.5,274.6563 Q414.8125,275.7188 414.8125,277.8125 Q414.8125,279.9063 415.5,280.9844 Q416.1875,282.0469 417.5313,282.0469 Q418.1563,282.0469 418.75,281.7813 Q419.3438,281.5 419.9688,280.9219 L419.9688,283.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="431" y="282.1543">SelectableState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="403" x2="533" y1="294" y2="294"/><line style="stroke:#A80036;stroke-width:1.5;" x1="403" x2="533" y1="302" y2="302"/><!--MD5=[4875c650fef774ba97d5952c1b638632]
class SoldoutState--><rect codeLine="26" fill="#FEFECE" filter="url(#f13mq5lst156e2)" height="48" id="SoldoutState" style="stroke:#A80036;stroke-width:1.5;" width="114" x="569" y="262"/><ellipse cx="584" cy="278" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M586.9688,283.6406 Q586.3906,283.9375 585.75,284.0781 Q585.1094,284.2344 584.4063,284.2344 Q581.9063,284.2344 580.5781,282.5938 Q579.2656,280.9375 579.2656,277.8125 Q579.2656,274.6875 580.5781,273.0313 Q581.9063,271.375 584.4063,271.375 Q585.1094,271.375 585.75,271.5313 Q586.4063,271.6875 586.9688,271.9844 L586.9688,274.7031 Q586.3438,274.125 585.75,273.8594 Q585.1563,273.5781 584.5313,273.5781 Q583.1875,273.5781 582.5,274.6563 Q581.8125,275.7188 581.8125,277.8125 Q581.8125,279.9063 582.5,280.9844 Q583.1875,282.0469 584.5313,282.0469 Q585.1563,282.0469 585.75,281.7813 Q586.3438,281.5 586.9688,280.9219 L586.9688,283.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="598" y="282.1543">SoldoutState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="570" x2="682" y1="294" y2="294"/><line style="stroke:#A80036;stroke-width:1.5;" x1="570" x2="682" y1="302" y2="302"/><!--MD5=[5d2c148cc188837d5a6bc7fe730dded0]
reverse link State to NoCoinState--><path d="M338.5,164.7807 C338.5,164.7807 338.5,261.9685 338.5,261.9685 " fill="none" id="State-backto-NoCoinState" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="331.5001,164.7808,338.5,144.7807,345.5001,164.7807,331.5001,164.7808" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3826dc27939281cf79d11ac781d17ee0]
reverse link State to SelectableState--><path d="M468,164.7807 C468,164.7807 468,261.9685 468,261.9685 " fill="none" id="State-backto-SelectableState" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="461.0001,164.7808,468,144.7807,475.0001,164.7807,461.0001,164.7808" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ffb9f425357ffeb592c14cf834fc258f]
reverse link State to SoldoutState--><path d="M597.5,164.7807 C597.5,164.7807 597.5,261.9685 597.5,261.9685 " fill="none" id="State-backto-SoldoutState" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="590.5001,164.7808,597.5,144.7807,604.5001,164.7807,590.5001,164.7808" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[01609b498c8327911740c9bc7de58ea0]
link VendingMachine to State--><path codeLine="28" d="M275.419,105 C275.419,105 304.8566,105 304.8566,105 " fill="none" id="VendingMachine-to-State" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="309.8566,105,300.8566,101,304.8566,105,300.8566,109,309.8566,105" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a0377615821d61212526bc8fd64e6aaa]
@startuml
skinparam linetype ortho

class VendingMachine <<context>> {
  - state: State
  - balance: int
  - currentStock: int
  + insertCoin(coin: int): void
  + select(Coffee): Coffee
  + changeState(State): void
  + isEnoughCoinProvidedFor(Coffee): boolean
  + hasNoCoin(): boolean
  + acceptCoin(newCoin: int): void
  + consumeCoin(amount: int): void
  + serve(Coffee): Coffee
}

interface State <<state>> {
  + increaseCoin(coin: int, ctx: VendingMachine): void
  + select(coffee: Coffee, ctx: VendingMachine): Coffee
}

class NoCoinState implements State {}

class SelectableState implements State {}

class SoldoutState implements State {}

VendingMachine -> State
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>